{"version":3,"sources":["app.js"],"names":["write","data","document","queryWeather","city","$","ajax","url","type","dataType","cityname","key","done","res","reason","info","result","realtime","prop","fail"],"mappings":";;AAAA,IAAMA,QAAQ,SAARA,KAAQ,CAACC,IAAD,EAAU;AAAEC,aAASF,KAAT,SAAqBC,IAArB;AAAkC,CAA5D;;AAEA;AACA,IAAME,eAAe,SAAfA,YAAe,CAASC,IAAT,EAAe;AAChC;AACAC,MAAEC,IAAF,CAAO;AACCC,aAAK,2BADN;AAECC,cAAM,KAFP;AAGCC,kBAAU,MAHX;AAICR,cAAM;AACFS,sBAAUN,IADR;AAEFO,iBAAK;AAFH;AAJP,KAAP,EASKC,IATL,CASU,UAASC,GAAT,EAAc;AAChBb,cAAMa,IAAIC,MAAV;AACA,YAAIC,OAAOF,IAAIG,MAAJ,CAAWf,IAAX,CAAgBgB,QAA3B;AACA,aAAK,IAAIC,IAAT,IAAiBH,IAAjB,EAAuB;AACnBf,kBAASkB,IAAT,WAAmBH,KAAKG,IAAL,CAAnB;AACH;AACJ,KAfL,EAgBKC,IAhBL,CAgBU,YAAW;AACbnB,cAAM,OAAN;AACH,KAlBL;AAmBH,CArBD;;AAuBAK,EAAE,YAAW;AACTF,iBAAa,IAAb;AACH,CAFD","file":"app.js","sourcesContent":["const write = (data) => { document.write(`<p>${data}</p>`) }\r\n\r\n// 测试跨域请求，接口代理\r\nconst queryWeather = function(city) {\r\n    // 聚合数据的接口\r\n    $.ajax({\r\n            url: '/api/onebox/weather/query',\r\n            type: 'GET',\r\n            dataType: 'json',\r\n            data: {\r\n                cityname: city,\r\n                key: 'eec56fd860f07a4fac7edbef4c32cfcb'\r\n            }\r\n        })\r\n        .done(function(res) {\r\n            write(res.reason)\r\n            let info = res.result.data.realtime\r\n            for (let prop in info) {\r\n                write(`${prop} = ${info[prop]}`)\r\n            }\r\n        })\r\n        .fail(function() {\r\n            write('error')\r\n        })\r\n}\r\n\r\n$(function() {\r\n    queryWeather('上海')\r\n})\r\n"]}